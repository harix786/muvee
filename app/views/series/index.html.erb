<%= render 'subnav' %>

<div class="fixed-search" define="{fixedSearch: new Muvee.FixedSearch(this)}" bind-class="{'is-active': fixedSearch.visible}">
  <i class="fa fa-search"></i>
  <%= form_tag search_series_index_path,
  method: 'GET',
  'tg-remote' => true,
  'refresh-on-success' => 'results' do %>

  <input class="fixed-search__input" type="text" name="query" value="" autocomplete="off" placeholder="Which show do you want to see today?">
  <% end %>

  <i class="fa fa-close" bind-event-click="fixedSearch.hide()"></i>
</div>

<div id="results" refresh="results" style="padding: 1em;">
  <% if @series.present? %>
    <div class="tile-list" <% if @_is_paged %>define="{pager: new Muvee.Pager(this)}"<% end %>>
      <% @series.each_slice(6) do |series_slice| %>
        <div class="tile-row">
          <% series_slice.each do |serie| %>
            <%= render 'shared/poster', show_path: series_path(serie), poster_url: serie.poster_url, title: serie.title %>
          <% end %>
        </div>
      <% end %>
    </div>
  <% else %>
    <div>No series found.</div>
  <% end %>
</div>
