<div id="all_movies">
  <div class="inline-movie-preview">
    <div class="movie-images"></div>
  </div>

  <div class="movie-meta panel">
    <h1 class="movie-title">
      <span class="title"></span>
      <span class="three-d hide">3D</span>
    </h1>
    <p class="movie-overview"></p>
  </div>

  <div class="movies-index panel" class="clearfix">
    <% if @movies.present? %>
      <ul class="responsive-grid">
        <% @movies.each do |movie| %>
          <li
            class="poster js-get-thumbnails <% if movie.has_set_of_thumbnails? %>has-thumbnails<% end %>"
            data-thumbnail-path="<%= thumbnails_video_path(movie) %>"
            >
            <div class="poster-innards">
              <a
                class="poster-link aspect-poster js-movie-tile"
                href="<%= video_path(movie) %>"
                data-3d="<%= movie.is_3d %>"
                data-title="<%= movie.title %>"
                data-overview="<%= movie.overview %>">
                <% if poster_url = movie.poster_url %>
                  <img class="video-thumbnail has-aspect" src="<%= poster_url %>" alt="">
                <% else %>
                  <img class="video-thumbnail has-aspect" src="/images/no-poster.png" alt="">
                <% end %>

                <div class="thumbnails hide">
                  <% if movie.external_fanart && movie.external_fanart[:moviebackground] %>
                    <img class="video-thumbnail" src="<%= movie.external_fanart[:moviebackground].first[:url] %>">
                  <% else %>
                    <% movie.thumbnails.each do |thumb| %>
                      <img class="video-thumbnail hide" src="<%= thumb.url %>" alt="">
                    <% end %>
                  <% end %>
                </div>
              </a>
            </div>
          </li>
        <% end %>
        <div class="clearfix"></div>
      </div>
    <% else %>
      <div>No movies found.</div>
    <% end %>
  </div>
</div>
