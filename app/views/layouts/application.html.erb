<!DOCTYPE html>
<html>
<head>
  <title>
    Î¼v :: <%= controller_name %>
  </title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
</head>
<body define="{fixedSearch: new Muvee.FixedSearch(this)}">

  <header class="main-navigation">
    <ul class="main-navigation__items">
      <li <% if controller_name == 'movies' %>class="active" <% end %>>
        <%= link_to movies_path, class: 'top-nav-button' do %>
          <i class="fa fa-film"></i>
          <h1>Movies</h1>
        <% end %>

        <%= yield :movies_subnav %>
      </li>
      <li <% if controller_name == 'series' %>class="active" <% end %>>
        <%= link_to series_index_path, class: 'top-nav-button' do %>
          <i class="fa fa-desktop"></i>
          <h1>TV</h1>
        <% end %>

        <%= yield :series_subnav %>
      </li>
      <li>
        <%= link_to shuffle_videos_path, class: 'top-nav-button' do %>
          <i class="fa fa-random"></i>
          <h1>Shuffle</h1>
        <% end %>
      </li>
      <li <% if controller_name == 'settings' %>class="active" <% end %>>
        <%= link_to settings_path, class: 'top-nav-button' do %>
          <i class="fa fa-cogs"></i>
          <h1>Options</h1>
        <% end %>
      </li>
      <li <% if controller_name == 'status' %>class="active" <% end %>>
        <%= link_to status_index_path, class: 'top-nav-button' do %>
          <i class='fa fa-stethoscope'></i>
          <h1>Status</h1>
        <% end %>
      </li>
    </ul>
  </header>

  <div class="main-content-container">
    <div class="main-content">

      <div class="fixed-search" bind-class="{'is-active': fixedSearch.visible}">
        <i class="fa fa-search"></i>
        <%= form_tag search_movies_path,
        method: 'GET',
        'tg-remote' => true,
        'refresh-on-success' => 'results' do %>

          <input class="fixed-search__input" type="text" name="query" value="" autocomplete="off" placeholder="What do you want to see today?">
        <% end %>

        <i class="fa fa-close" bind-event-click="fixedSearch.hide()"></i>
      </div>

      <%= yield %>
    </div>
  </div>

  <div class="error modal">
    <div class="modal-backdrop js-close-modal"></div>
    <div class="modal-box">
      <div class="modal-box-contents">
        <div class="modal-header">
          I'm afraid I can't let you do that.
        </div>
        <div class="modal-body">
          <p class="error-text">
            An error has occurred!
          </p>
        </div>
        <div class="divider">
          <button class="js-close-modal">Ok</button>
        </div>
      </div>
    </div>
  </div>

</body>
</html>
